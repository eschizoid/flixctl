[
  {
    "id": "torrent-download",
    "execute-command": "/opt/webhook-linux-amd64/torrent.sh",
    "command-working-directory": "/home/webhook/go/bin",
    "response-message": "Executing download command",
    "pass-environment-to-command": [
      {
        "source": "url",
        "name": "n",
        "envname": "TORRENT_NAME"
      },
      {
        "source": "url",
        "name": "m",
        "envname": "MAGNET_LINK"
      }
    ],
    "pass-arguments-to-command": [
      {
        "source": "string",
        "name": "download"
      }
    ],
    "trigger-rule": {
      "match": {
        "type": "value",
        "value": "{{getenv "SLACK_SEARCH_TOKEN"}}",
        "parameter": {
          "source": "url",
          "name": "t",
          "envname": "QUERY"
        }
      }
    }
  },
  {
    "id": "torrent-search",
    "execute-command": "/opt/webhook-linux-amd64/torrent.sh",
    "command-working-directory": "/home/webhook/go/bin",
    "response-message": "Executing search command",
    "pass-environment-to-command": [
      {
        "source": "payload",
        "name": "text",
        "envname": "KEYWORDS"
      }
    ],
    "pass-arguments-to-command": [
      {
        "source": "string",
        "name": "search"
      }
    ],
    "trigger-rule": {
      "match": {
        "type": "value",
        "value": "{{getenv "SLACK_SEARCH_TOKEN"}}",
        "parameter": {
          "source": "payload",
          "name": "token"
        }
      }
    }
  },
  {
    "id": "torrent-status",
    "execute-command": "/opt/webhook-linux-amd64/torrent.sh",
    "command-working-directory": "/home/webhook/go/bin",
    "response-message": "Executing status command",
    "pass-arguments-to-command": [
      {
        "source": "string",
        "name": "status"
      }
    ],
    "trigger-rule": {
      "match": {
        "type": "value",
        "value": "{{getenv "SLACK_STATUS_TOKEN"}}",
        "parameter": {
          "source": "payload",
          "name": "token"
        }
      }
    }
  }
]
