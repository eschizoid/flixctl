= flixctl
:idprefix:
:idseparator: -
:sectanchors:
:sectlinks:
:sectnumlevels: 6
:sectnums:
:toc: macro
:toclevels: 6
:toc-title:

image:https://travis-ci.com/eschizoid/flixctl.svg?branch=master["Build Status", link="https://travis-ci.com/eschizoid/flixctl"]
image:https://goreportcard.com/badge/github.com/eschizoid/flixctl["Go Report Card", link="https://goreportcard.com/report/github.com/eschizoid/flixctl"]

Inspired by `kubectl`, `flixctl` aims to provide a programmatic way for controlling the infrastructure necessary for a
true MaaS (Movies as a Service) architecture.

toc::[]

=== Architecture

=== Components

==== Hardware (AWS)
`flixctl` Leverage the following infrastructure:

* https://aws.amazon.com/api-gateway[API Geteway]
* https://aws.amazon.com/ebs[EBS]
* https://aws.amazon.com/ec2[EC2]
* https://aws.amazon.com/glacier[Glacier]
* https://aws.amazon.com/lambda[Lambda]

==== Software (OSS)
`flixctl` Integrates with following components:

* https://github.com/plexinc/plex-media-player[Plex]
* https://github.com/Tautulli/Tautulli[Tautulli]
* https://github.com/transmission/transmission[Transmission]
* https://api.slack.com/slash-commands[Slack Slash Commands]
* https://github.com/adnanh/webhook[Webhooks]

=== Pre-requisites
----
brew install go
brew install dep
----

=== Dependencies
----
make dep
----

=== Lints
----
make lint
----

=== Build (CLI and λ's)
----
make build
----

=== Install flixctl
----
make install
----

=== Deploy λ's
----
make deploy-lambdas
----

=== Usage
==== ```flixctl```
----
$ flixctl --help
To Control The Following flixctl Components:
  * Library
  * Plex
  * Tautulli
  * Torrent

Usage:
  flixctl [command]

Available Commands:
  help        Help about any command
  library     To Control Media Library
  plex        To Control Plex Media Center
  torrent     To Control Torrent Client
  version     To Get flixctl Version

Flags:
  -h, --help   help for flixctl

Use "flixctl [command] --help" for more information about a command.
----
==== ```flixctl plex```
----
$ flixctl plex --help
To Control Plex Media Center

Usage:
  flixctl plex [command]

Available Commands:
  start       To Start Plex
  status      To Get Plex Status
  stop        To Stop Plex

Flags:
  -h, --help   help for plex

Use "flixctl plex [command] --help" for more information about a command.
----
==== ```flixctl library```
----
$ flixctl library --help
To Control Media Library
Usage:
  flixctl library [command]

Available Commands:
  archive     To Archive a File To Media Library
  initiate    To Initiate a File Retrieval
  jobs        To List Media Library Jobs
  retrieve    To Retrieve a File From Media Library

Flags:
  -h, --help   help for library

Use "flixctl library [command] --help" for more information about a command.
----
==== ```flixctl torrent```
----
$ flixctl torrent --help
To Control Torrent Client

Usage:
  flixctl torrent [command]

Available Commands:
  download    To Download a Torrent
  search      To Search for Torrents
  status      To Show Torrents Status

Flags:
  -h, --help   help for torrent

Use "flixctl torrent [command] --help" for more information about a command.
----

=== Examples
==== ```flixctl```
----
flixctl version
----
==== ```flixctl plex```
----
flixctl plex start --slack-notification "true" --slack-notification-channel "monitoring"
flixctl plex stop --slack-notification false
flixctl plex status --slack-notification false
----
==== ```flixctl torrent```
----
flixctl torrent status
flixctl torrent search --keywords Trainspotting --minimum-quality 1080
flixctl torrent download --magnet-link "magnet:?xt=urn:btih:80707BDD08084AFD5996BF88DC879BA1B1C0CB67&dn=T2+Trainspotting+2017+BDRip+1080p&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337%2Fannounce&tr=udp%3A%2F%2Fp4p.arenabg.ch%3A1337%2Fannounce&tr=udp%3A%2F%2Ftracker.pirateparty.gr%3A6969%2Fannounce&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969%2Fannounce&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969%2Fannounce&tr=udp%3A%2F%2Ftracker.internetwarriors.net%3A1337%2Fannounce&tr=udp%3A%2F%2Fpublic.popcorn-tracker.org%3A6969%2Fannounce&tr=udp%3A%2F%2Feddie4.nl%3A6969%2Fannounce&tr=udp%3A%2F%2F9.rarbg.to%3A2710%2Fannounce&tr=udp%3A%2F%2F9.rarbg.me%3A2710%2Fannounce"
----
==== ```flixctl library```
----
flixctl library jobs
flixctl library archive --file "movie.zip"
flixctl library initiate --type catalogue
lixctl library initiate --type file --archive-id "U1IDD8GVNYGhtnbtjfr7_oV-h9hNqcjAkR1RfCdBrL8uoQdlViB0TtGUvnWrKkLM8nlf7LEZTV_X8CuXVoMKtnEBOBELgmmuQDIZkSA9xU-mlWJMSxf_132VcP4RTXNxZ7MdmTdNGA"
flixctl library retrieve --job "ZUjVmQsAa-w0hMCBVL0Yj2JWEqo4Dkx3Da8031oOtDkdAse-ncv_s8DPfEnbs2fe58ZY5FcfVGy8lekYCYbOOWhfikGX" --file "/tmp/movie.zip"
----
